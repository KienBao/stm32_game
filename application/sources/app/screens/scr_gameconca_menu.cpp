#include "scr_gameconca_menu.h"
// #include "fish.h"
#include "scr_ingame.h"

#define NUM_CANDLE		(15)
#define LOGO_HEIGHT		(4)
#define LOGO_WIDTH		(4) 

static const unsigned char PROGMEM logo_game_conca[] = { 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x80, 0x00, 
	0x06, 0x01, 0xc0, 0x00, 0x03, 0x07, 0xfc, 0x00, 0x01, 0xfc, 0x03, 0xe0, 0x01, 0xc0, 0x06, 0xe0, 
	0x01, 0xc0, 0x02, 0xc0, 0x01, 0x20, 0x00, 0x80, 0x06, 0x0f, 0x81, 0x00, 0x00, 0x03, 0xfc, 0x00, 
	0x00, 0x03, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

static const unsigned char PROGMEM logo_start[] = {
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xff, 0xff, 0x80, 
	0x0f, 0xff, 0xff, 0xf0, 0x1e, 0x00, 0x00, 0x78, 0x38, 0x00, 0x00, 0x1c, 0x70, 0x00, 0x00, 0x0e, 
	0x60, 0x00, 0x00, 0x06, 0xc7, 0x7b, 0x1c, 0xf3, 0xc8, 0x23, 0x12, 0x43, 0xce, 0x23, 0x9e, 0x43, 
	0xc3, 0x26, 0x9c, 0x43, 0xc1, 0x27, 0xdc, 0x43, 0xcf, 0x24, 0x56, 0x43, 0x60, 0x00, 0x00, 0x06, 
	0x70, 0x00, 0x00, 0x0e, 0x38, 0x00, 0x00, 0x1c, 0x1e, 0x00, 0x00, 0x78, 0x0f, 0xff, 0xff, 0xf0, 
	0x01, 0xff, 0xff, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

static const unsigned char PROGMEM logo_exit[] = {
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x3f, 0xff, 0xff, 0xfc, 0x7f, 0xff, 0xff, 0xfe, 0xff, 0xff, 0xff, 0xff, 0xe0, 0xce, 0x64, 0x07, 
	0xe0, 0x46, 0x64, 0x07, 0xe7, 0xe4, 0xe7, 0x1f, 0xe7, 0xe0, 0xe7, 0xbf, 0xe0, 0xf1, 0xe7, 0xbf, 
	0xe0, 0xf1, 0xe7, 0xbf, 0xe7, 0xe0, 0xe7, 0xbf, 0xe7, 0xe4, 0xe7, 0xbf, 0xe0, 0x4e, 0x67, 0xbf, 
	0xe0, 0x4e, 0x67, 0xbf, 0xff, 0xff, 0xff, 0xff, 0x7f, 0xff, 0xff, 0xfe, 0x3f, 0xff, 0xff, 0xfc, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

static int y = 5;
static int x = 1;

static void view_scr_gameconcamenu();

view_dynamic_t dyn_view_item_game_conca_menu = {
	{ 
		.item_type = ITEM_TYPE_DYNAMIC,
	},
	view_scr_gameconcamenu
};

view_screen_t scr_gameconcamenu = {
	&dyn_view_item_game_conca_menu,
	// &dyn_view_item_fish,
	ITEM_NULL,
	ITEM_NULL,

	.focus_item = 0,
};

void view_scr_gameconcamenu() {
	view_render.clear();
	view_render.drawBitmap(15,y,logo_game_conca, 32, 32, 1);
	view_render.drawBitmap(44,5,logo_start, 32, 32, 1);
	view_render.drawBitmap(44,40,logo_exit, 32, 32, 1);
	view_render.update();
}

void scr_gameconca_menu_handle(ak_msg_t* msg) {
	switch (msg->sig) {

	case AC_DISPLAY_BUTON_MODE_RELEASED: {
		APP_DBG_SIG("AC_DISPLAY_BUTON_MODE_RELEASED\n");
		if(x==0) {
			SCREEN_TRAN(scr_idle_handle, &scr_idle);
		}
		if(x==1) {
			SCREEN_TRAN(scr_ingame_handle, &scr_ingame);
		}
	}
		break;

	case AC_DISPLAY_BUTON_UP_RELEASED: {
		APP_DBG_SIG("AC_DISPLAY_BUTON_UP_RELEASED\n");
        y=y-35;
		x=1;
		if(y<=5){
			y=5;
		}
	}
		break;

	case AC_DISPLAY_BUTON_DOWN_RELEASED: {
		APP_DBG_SIG("AC_DISPLAY_BUTON_DOWN_RELEASED\n");
        y=y+35;
		x=0;
		if(y>=40){
			y=40;
		}
	}
		break;

	default:
		break;
	}
}
